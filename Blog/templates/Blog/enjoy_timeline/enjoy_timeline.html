<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enjoy Timeline</title>
    <link rel="icon" type="image/x-icon" href="/media/86_icon.svg">
    <meta name="csrf-token" content="{{ csrf_token }}">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>    
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400&family=Montserrat:wght@600&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'Blog/css/style.css' %}">
    <link rel="stylesheet" href="{% static 'Blog/css/utils.css' %}">
    <link rel="stylesheet" href="{% static 'Blog/enjoy_timeline/timeline.css' %}">
    
    <script src="{% static 'Blog/enjoy_timeline/timeline.js' %}" type="module"></script>
    <script src="{% static 'Blog/enjoy_timeline/increment_enjoy.js' %}" type="module"></script>


    {% load custom_filters %}
</head>

{% csrf_token %}
<body>
    {% include "Blog/layout/base.html" %}
    <h1>Enjoy Timeline</h1>

    
    <div id="nb" nb="{{nb}}"></div>
    <div id="data" data="{{timestamps_data}}" default_stamp_color="{{default_stamp_color}}" default_note_color="{{default_note_color}}"></div>

    <div class="colorize-texts">
        <div class="text-for-color" id="stamps_color">Colorer la timeline selon <i>le nombre d'avis</i></div>
        <div class="text-for-color" id="notes_color">Colorer la timeline selon <i>les notes</i></div>
    </div>


    <div class="hour-container">
        <div class="minute-container">
            {% for minute in minutes %}
                <div class="square-minute">{{minute}}</div>
            {% endfor %}
        </div>

        <br>


        {% for hour in hours %}
                <div class="square-hour">{{hour}}</div>
            {% for minute in minutes %}
                <div class="square" hour="{{hour}}" minute="{{minute}}"></div>
            {% endfor %}
            <br>
        {% endfor %}

        
    </div>

    <div class="last-stamps">
        <h3 style="padding-bottom:10px;">Les derniers commentaires</h3>
        <ul class="no-bullets">
            {% for stamp in last_stamps %}
            <li><u>{{stamp.writer|capfirst}}</u> ({{ stamp.published_date|date:"d/m/Y, H:i" }}) <strong class="hour_minute" hour="{{stamp.time.hour}}" minute="{{stamp.time.minute}}">{{stamp.time.hour}}h{{stamp.time.minute}}mn</strong> : [{{stamp.note}}/5] {{stamp.comment}}</li>
            {% endfor %}
        </ul>
    </div>

    



    <div id="hour-panel" class="hour-panel"></div>

    <div class="footer">
        <a href="/">Retour à la page d'accueil</a><br>
        <a href="http://www.quelleheureestilenjoy.com/" target="_blank" id="enjoy_link">Quelle Heure Est-Il Enjoy ?</a><br>
        <span id="add_stamp">Ajouter un timestamp à l'heure actuelle</span>
    </div>

    
    


</body>